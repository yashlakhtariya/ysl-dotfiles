# MONITOR CONFIG
# monitor=,preferred,auto,1
# monitor=,addreserved, 0, 0, 0, 0 # Custom reserved area
monitor=eDP-1,highres,0x0,1.0
# monitor=HDMI-A-1,1920x1080,1920x0,1.0
monitor=HDMI-A-1,1920x1080,1920x0,1,mirror,eDP-1

# monitor=eDP-1,highres,0x0,1.0
# monitor=HDMI-A-1,1920x1080,1920x0,1.0
# monitor=HDMI-A-1,highres,1920x0,1.0

# monitor=HDMI-A-1,highres,1920x0,1.0
# monitor=HDMI-A-1,preferred,1920x0,1.0


# # HDMI port: mirror display. To see device name, use `hyprctl monitors`
# monitor=HDMI-A-1,1920x1080@60,1920x0,1,mirror,eDP-1


# vars used
$dock = $dockbottom-round
$dockbottom = nwg-dock-hyprland -i 58 -mb 10 -ml 12 -mr 12 -nolauncher -x -l bottom -s style-dark-red-bottom.css
$dockbottom-attached = nwg-dock-hyprland -i 48 -ml 12 -mr 12 -nolauncher -x -l bottom -s style-dark-red-bottom-attached.css
$dockbottom-round = nwg-dock-hyprland -i 48 -ml 12 -mr 12 -mb 12 -nolauncher -x -l bottom -s style-dark-red-bottom-round.css
$dockleft = nwg-dock-hyprland -i 56 -mb 10 -ml 12 -mt 10 -nolauncher -x -p left -f -a centre -s style-dark-red-left.css
$drawer = nwg-drawer -wm hyprland -nofs -ovl -ft -spacing 30 -c 8 -mt 50 -mb 10 -ml 10 -mr 10
$zoom_in = hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | grep float | awk '{print $2 + 0.2}')"
$zoom_out = hyprctl keyword cursor:zoom_factor "$(hyprctl getoption cursor:zoom_factor | grep float | awk '{print $2 - 0.2}')"
$zoom_reset = hyprctl keyword cursor:zoom_factor 1



# My envs
env = USE_WAYLAND_GRIM, 1
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = __GL_VRR_ALLOWED,1
env = WLR_DRM_NO_ATOMIC,1

cursor:no_hardware_cursors = true




# My initial execs
exec-once = hyprpm reload -n
exec = dotoold
exec = libinput-gestures-setup start
exec = kdeconnect-indicator


plugin {
    hyprexpo {
        columns = 5
        gap_size = 10
        bg_col = rgba(0, 0, 0, 1)
        workspace_method = first 1 # [center/first] [workspace] e.g. first 1 or center m+1

        enable_gesture = true # laptop touchpad
        gesture_fingers = 3  # 3 or 4
        gesture_distance = 300 # how far is the "max"
        gesture_positive = false # positive = swipe down. Negative = swipe up.
    }
}


gestures{
    workspace_swipe_touch = true
}


dwindle {
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    force_split = 2
    preserve_split = yes # you probably want this
    # smart_split = yes
    split_width_multiplier = 1.1
}


plugin:touch_gestures {
  # The default sensitivity is probably too low on tablet screens,
  # I recommend turning it up to 4.0
  sensitivity = 4.0

  # must be >= 3
  workspace_swipe_fingers = 3

  # switching workspaces by swiping from an edge, this is separate from workspace_swipe_fingers
  # and can be used at the same time
  # possible values: l, r, u, or d
  # to disable it set it to anything else
  # workspace_swipe_edge = r

  # in milliseconds
  long_press_delay = 400

  # in pixels, the distance from the edge that is considered an edge
  edge_margin = 10

  experimental {
    # send proper cancel events to windows instead of hacky touch_up events,
    # NOT recommended as it crashed a few times, once it's stabilized I'll make it the default
    send_cancel = 0

    # hyprgrass-bind = , edge:r:l, workspace, +1
    # hyprgrass-bind = , edge:l:r, workspace, -1
    hyprgrass-bind = , edge:d:u, exec, $dock
    hyprgrass-bind = , swipe:3:d, killactive
    hyprgrass-bind = , tap:3, fullscreen, 1
    hyprgrass-bind = , tap:4, fullscreen
    hyprgrass-bindm = , longpress:2, movewindow
    hyprgrass-bind = , edge:u:d, hyprexpo:expo, toggle
  }
}


bind = SUPER, S, hyprexpo:expo, toggle # can be: toggle, off/disable or on/enable

bind = Super, Space, exec, brave
bind = Super+Alt, Space, exec, brave --profile-directory=Profile\ 1
bind = Super, Slash, exec, brave --profile-directory=Profile\ 2

binde = Super, bracketright, exec, ags run-js 'brightness.screen_value += 0.05; indicator.popup(1);'
binde = Super, bracketleft, exec, ags run-js 'brightness.screen_value -= 0.05; indicator.popup(1);'

bind = Super, F12, exec, flameshot gui

bind = Ctrl, Space, exec, $dock
bind = Ctrl+Alt, Space, exec, killall nwg-dock-hyprland


# use wev for getting key number and other I/O events on wayland
bind = Super NUM_LOCK, 86, exec, $zoom_in
bind = Super NUM_LOCK, 82, exec, $zoom_out
bind = Super NUM_LOCK, 104, exec, $zoom_reset
binde = Super+Shift, equal , exec, $zoom_in
binde = Super+Shift, minus, exec, $zoom_out
bind = Super+Shift, backslash, exec, $zoom_reset





windowrulev2 = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog — Dolphin)$
windowrulev2 = float,class:^(org.kde.dolphin)$,title:^(Copying — Dolphin)$
windowrulev2 = float,title:^(About Mozilla Firefox)$
windowrulev2 = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrulev2 = float,class:^(firefox)$,title:^(Library)$
windowrulev2 = float,class:^(kitty)$,title:^(top)$
windowrulev2 = float,class:^(kitty)$,title:^(btop)$
windowrulev2 = float,class:^(kitty)$,title:^(htop)$
windowrulev2 = float,class:^(vlc)$
windowrulev2 = float,class:^(kvantummanager)$
windowrulev2 = float,class:^(qt5ct)$
windowrulev2 = float,class:^(qt6ct)$
windowrulev2 = float,class:^(nwg-look)$
windowrulev2 = float,class:^(org.kde.ark)$
windowrulev2 = float,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$
windowrulev2 = float,class:^(org.kde.polkit-kde-authentication-agent-1)$

windowrulev2 = float,class:^(Signal)$ # Signal-Gtk
windowrulev2 = float,class:^(com.github.rafostar.Clapper)$ # Clapper-Gtk
windowrulev2 = float,class:^(app.drey.Warp)$ # Warp-Gtk
windowrulev2 = float,class:^(net.davidotek.pupgui2)$ # ProtonUp-Qt
windowrulev2 = float,class:^(yad)$ # Protontricks-Gtk
windowrulev2 = float,class:^(eog)$ # Imageviewer-Gtk
windowrulev2 = float,class:^(io.github.alainm23.planify)$ # planify-Gtk
windowrulev2 = float,class:^(io.gitlab.theevilskeleton.Upscaler)$ # Upscaler-Gtk
windowrulev2 = float,class:^(com.github.unrud.VideoDownloader)$ # VideoDownloader-Gkk
windowrulev2 = float,class:^(io.gitlab.adhami3310.Impression)$ # Impression-Gtk
windowrulev2 = float,class:^(io.missioncenter.MissionCenter)$ # MissionCenter-Gtk



# My window rules
windowrulev2 = float,class:^(Waydroid)$
windowrulev2 = maximize,class:^(Waydroid)$
windowrulev2 = fullscreen,class:^(Waydroid)$
windowrulev2 = opacity 1 1, class:^(Waydroid)$

windowrulev2 = float,class:^(textsnatcher)$
windowrulev2 = center,class:^(textsnatcher)$

# windowrulev2=fakefullscreen,class:^(flameshot)$
windowrulev2 = float,class:^(flameshot)$
# windowrulev2=monitor 0,class:^(flameshot)$
# windowrulev2=move 0 0,class:^(flameshot)$
# windowrulev2=workspace 0,class:^(flameshot)$
# windowrulev2=stayfocused,class:^(flameshot)$

windowrulev2 = float,class:^(nwg-clipman)$
windowrulev2 = center,class:^(nwg-clipman)$
windowrulev2 = noanim,class:^(nwg-clipman)$
